{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/client/components/handle-isr-error.tsx","turbopack:///[project]/node_modules/next/src/client/components/builtin/global-error.tsx","turbopack:///[project]/src/components/Messages.tsx","turbopack:///[project]/src/components/Modal.tsx","turbopack:///[project]/src/app/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/brain.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/send.ts","turbopack:///[project]/src/components/ChatInput.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","const workAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n      ).workAsyncStorage\n    : undefined\n\n// if we are revalidating we want to re-throw the error so the\n// function crashes so we can maintain our previous cache\n// instead of caching the error page\nexport function HandleISRError({ error }: { error: any }) {\n  if (workAsyncStorage) {\n    const store = workAsyncStorage.getStore()\n    if (store?.isRevalidate || store?.isStaticGeneration) {\n      console.error(error)\n      throw error\n    }\n  }\n\n  return null\n}\n","'use client'\n\nimport { HandleISRError } from '../handle-isr-error'\n\nconst styles = {\n  error: {\n    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n    fontFamily:\n      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '28px',\n    margin: '0 8px',\n  },\n} as const\n\nexport type GlobalErrorComponent = React.ComponentType<{\n  error: any\n}>\nfunction DefaultGlobalError({ error }: { error: any }) {\n  const digest: string | undefined = error?.digest\n  return (\n    <html id=\"__next_error__\">\n      <head></head>\n      <body>\n        <HandleISRError error={error} />\n        <div style={styles.error}>\n          <div>\n            <h2 style={styles.text}>\n              Application error: a {digest ? 'server' : 'client'}-side exception\n              has occurred while loading {window.location.hostname} (see the{' '}\n              {digest ? 'server logs' : 'browser console'} for more\n              information).\n            </h2>\n            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n\n// Exported so that the import signature in the loaders can be identical to user\n// supplied custom global error signatures.\nexport default DefaultGlobalError\n","import { MessageSquare, Brain } from 'lucide-react';\nimport { type Message } from '@/lib/conversation';\nimport { useState } from 'react';\n\ninterface MessagesProps {\n  messages: Message[] | undefined;\n  thinking: Record<string, string>; // messageId -> thinking content\n  isLoading: boolean;\n  isStreaming: boolean;\n  streamingMessageId: string | null;\n  skeletonShrinking: boolean;\n  messagesEndRef: React.RefObject<HTMLDivElement | null>;\n  conversationId?: string;\n}\n\nexport function Messages({\n  messages,\n  thinking,\n  isLoading,\n  isStreaming,\n  streamingMessageId,\n  skeletonShrinking,\n  messagesEndRef,\n  conversationId\n}: MessagesProps) {\n  \n  return (\n    <div className=\"flex-1 overflow-y-auto pt-6 pb-6 px-6 space-y-6\">\n      {!messages?.length && !isLoading && (\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"text-center text-gray-500\">\n            <MessageSquare size={48} className=\"mx-auto mb-4 opacity-20\" />\n            <p className=\"text-lg font-medium\">Start a conversation</p>\n            <p className=\"text-sm mt-2\">Send a message to begin chatting with Red AI</p>\n          </div>\n        </div>\n      )}\n      {messages?.map((message) => {\n        // Get thinking from prop for this message\n        const thinkingContent = message.role === 'assistant' ? thinking[message.id] : null;\n        \n        return (\n          <MessageBubble\n            key={message.id}\n            message={message}\n            thinking={thinkingContent || null}\n            isStreaming={isStreaming && streamingMessageId === message.id}\n          />\n        );\n      })}\n      {isLoading && (\n        <div className=\"flex justify-start\">\n          <div className=\"bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl px-5 py-3.5 shadow-lg\">\n            <div className={`w-48 h-4 rounded skeleton ${skeletonShrinking ? 'shrinking' : ''}`} />\n          </div>\n        </div>\n      )}\n      <div ref={messagesEndRef} />\n    </div>\n  );\n}\n\ninterface MessageBubbleProps {\n  message: Message;\n  thinking: string | null;\n  isStreaming: boolean;\n}\n\nfunction MessageBubble({ message, thinking, isStreaming }: MessageBubbleProps) {\n  const [showThinking, setShowThinking] = useState(false);\n  \n  return (\n    <div\n      className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n    >\n      <div\n        className={`max-w-[80%] rounded-xl px-5 py-3.5 shadow-lg ${\n          message.role === 'user'\n            ? 'bg-[#1a1a1a] border border-[#2a2a2a] text-gray-100'\n            : `bg-red-500 text-white ${isStreaming ? 'streaming-pulse' : ''}`\n        }`}\n      >\n        <p className=\"whitespace-pre-wrap\">{message.content}</p>\n        \n        {/* Show thinking toggle for assistant messages with thinking */}\n        {thinking && message.role === 'assistant' && (\n          <div className=\"mt-3 pt-3 border-t border-white/20\">\n            <button\n              onClick={() => setShowThinking(!showThinking)}\n              className=\"flex items-center gap-2 text-sm opacity-80 hover:opacity-100 transition-opacity\"\n            >\n              <Brain size={16} />\n              <span>{showThinking ? 'Hide' : 'Show'} thinking</span>\n            </button>\n            \n            {showThinking && (\n              <div className=\"mt-3 p-3 bg-black/20 rounded-lg text-sm\">\n                <div className=\"font-semibold mb-2 opacity-70\">Reasoning:</div>\n                <p className=\"whitespace-pre-wrap opacity-90\">{thinking}</p>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { X } from 'lucide-react';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n}\n\nexport function Modal({ isOpen, onClose, title, children }: ModalProps) {\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black bg-opacity-50 z-50\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n        <div className=\"bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl max-w-md w-full shadow-2xl\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-[#2a2a2a]\">\n            <h2 className=\"text-lg font-semibold text-gray-100\">{title}</h2>\n            <button\n              onClick={onClose}\n              className=\"p-1 hover:bg-[#2a2a2a] rounded-lg transition-colors text-gray-400 hover:text-gray-200\"\n            >\n              <X size={20} />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-4\">\n            {children}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\ninterface ConfirmModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  variant?: 'danger' | 'warning' | 'info';\n}\n\nexport function ConfirmModal({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = 'Confirm',\n  cancelText = 'Cancel',\n  variant = 'danger'\n}: ConfirmModalProps) {\n  const handleConfirm = () => {\n    onConfirm();\n    onClose();\n  };\n\n  const confirmButtonClass = variant === 'danger'\n    ? 'bg-red-500 hover:bg-red-600'\n    : variant === 'warning'\n    ? 'bg-yellow-500 hover:bg-yellow-600'\n    : 'bg-blue-500 hover:bg-blue-600';\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title={title}>\n      <p className=\"text-gray-300 mb-6\">{message}</p>\n      \n      <div className=\"flex gap-3 justify-end\">\n        <button\n          onClick={onClose}\n          className=\"px-4 py-2 bg-[#2a2a2a] hover:bg-[#333] rounded-lg transition-colors text-gray-300\"\n        >\n          {cancelText}\n        </button>\n        <button\n          onClick={handleConfirm}\n          className={`px-4 py-2 ${confirmButtonClass} rounded-lg transition-colors text-white font-medium`}\n        >\n          {confirmText}\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { conversationStorage, type Conversation, type Message } from '@/lib/conversation';\nimport { ConfirmModal } from '@/components/Modal';\nimport { Header } from '@/components/Header';\nimport { Sidebar } from '@/components/Sidebar';\nimport { ChatInput } from '@/components/ChatInput';\nimport { Messages } from '@/components/Messages';\n\nexport default function ChatPage() {\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [activeConversationId, setActiveConversationId] = useState<string | null>(null);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [skeletonShrinking, setSkeletonShrinking] = useState(false);\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [streamingMessageId, setStreamingMessageId] = useState<string | null>(null);\n  const [currentThinking, setCurrentThinking] = useState<Record<string, string>>({});\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\n  const [conversationToDelete, setConversationToDelete] = useState<string | null>(null);\n  const [editingTitleId, setEditingTitleId] = useState<string | null>(null);\n  const [editingTitleValue, setEditingTitleValue] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const activeConversation = conversations.find(c => c.id === activeConversationId);\n\n  // Load conversations on mount\n  useEffect(() => {\n    const stored = conversationStorage.getAll();\n    setConversations(stored);\n    \n    const activeId = conversationStorage.getActiveId();\n    if (activeId && stored.some(c => c.id === activeId)) {\n      setActiveConversationId(activeId);\n    } else if (stored.length > 0) {\n      setActiveConversationId(stored[0].id);\n      conversationStorage.setActiveId(stored[0].id);\n    }\n  }, []);\n\n  // Auto-scroll to bottom of messages\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [activeConversation?.messages]);\n\n  const createNewConversation = () => {\n    const newConv = conversationStorage.create();\n    setConversations(prev => [newConv, ...prev]);\n    setActiveConversationId(newConv.id);\n    conversationStorage.setActiveId(newConv.id);\n    setIsSidebarOpen(false);\n  };\n\n  const switchConversation = (id: string) => {\n    setActiveConversationId(id);\n    conversationStorage.setActiveId(id);\n    setIsSidebarOpen(false);\n  };\n\n  const handleDeleteClick = (id: string, event: React.MouseEvent) => {\n    event.stopPropagation(); // Prevent switching to the conversation\n    setConversationToDelete(id);\n    setDeleteModalOpen(true);\n  };\n\n  const handleDeleteConfirm = () => {\n    if (!conversationToDelete) return;\n\n    // Delete the conversation\n    conversationStorage.delete(conversationToDelete);\n    const updatedConversations = conversationStorage.getAll();\n    setConversations(updatedConversations);\n\n    // If we deleted the active conversation, switch to another one\n    if (conversationToDelete === activeConversationId) {\n      if (updatedConversations.length > 0) {\n        setActiveConversationId(updatedConversations[0].id);\n        conversationStorage.setActiveId(updatedConversations[0].id);\n      } else {\n        setActiveConversationId(null);\n      }\n    }\n\n    setConversationToDelete(null);\n  };\n\n  // Fetch conversation title from Redis (generated by Red AI)\n  const fetchConversationTitle = async (conversationId: string) => {\n    try {\n      const response = await fetch(`/api/v1/conversations/${conversationId}/title`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.title) {\n          const conv = conversationStorage.get(conversationId);\n          if (conv && !conv.titleSetByUser) {\n            // Only update if user hasn't set a custom title\n            conv.title = data.title;\n            conversationStorage.save(conv);\n            setConversations(conversationStorage.getAll());\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching conversation title:', error);\n    }\n  };\n\n  // Update conversation title (user override)\n  const updateConversationTitle = async (conversationId: string, newTitle: string) => {\n    try {\n      const response = await fetch(`/api/v1/conversations/${conversationId}/title`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ title: newTitle })\n      });\n      \n      if (response.ok) {\n        const conv = conversationStorage.get(conversationId);\n        if (conv) {\n          conv.title = newTitle;\n          conv.titleSetByUser = true;\n          conversationStorage.save(conv);\n          setConversations(conversationStorage.getAll());\n        }\n      }\n    } catch (error) {\n      console.error('Error updating conversation title:', error);\n    }\n  };\n\n  const startEditingTitle = (conv: Conversation, event: React.MouseEvent) => {\n    event.stopPropagation();\n    setEditingTitleId(conv.id);\n    setEditingTitleValue(conv.title);\n  };\n\n  const saveEditedTitle = async (conversationId: string) => {\n    if (editingTitleValue.trim()) {\n      await updateConversationTitle(conversationId, editingTitleValue.trim());\n    }\n    setEditingTitleId(null);\n    setEditingTitleValue('');\n  };\n\n  const cancelEditingTitle = () => {\n    setEditingTitleId(null);\n    setEditingTitleValue('');\n  };\n\n  // Separate function to connect to message stream (can be called for reconnection)\n  const streamMessage = async (convId: string, messageId: string, streamUrl: string) => {\n    const assistantMessage: Message = {\n      id: messageId,\n      role: 'assistant',\n      content: '',\n      timestamp: Date.now()\n    };\n\n    let messageAdded = false;\n    let canStartDisplaying = false;\n    let firstCharReceived = false;\n    const displayQueue: string[] = [];\n    let isDisplaying = false;\n    let displayedContent = '';\n\n    const startSkeletonShrink = () => {\n      if (firstCharReceived) return;\n      firstCharReceived = true;\n      \n      setSkeletonShrinking(true);\n      setIsStreaming(true);\n      setStreamingMessageId(messageId);\n      \n      setTimeout(() => {\n        setIsLoading(false);\n        setSkeletonShrinking(false);\n        canStartDisplaying = true;\n      }, 400);\n    };\n\n    const displayNextChar = async () => {\n      if (isDisplaying) return;\n      if (!canStartDisplaying) {\n        setTimeout(() => displayNextChar(), 50);\n        return;\n      }\n      isDisplaying = true;\n\n      while (displayQueue.length > 0) {\n        const char = displayQueue.shift();\n        if (char) {\n          displayedContent += char;\n          assistantMessage.content = displayedContent;\n\n          if (!messageAdded && displayedContent.trim()) {\n            const conv = conversationStorage.get(convId);\n            if (conv) {\n              conv.messages.push(assistantMessage);\n              conversationStorage.save(conv);\n              setConversations(conversationStorage.getAll());\n              messageAdded = true;\n              setTimeout(() => {\n                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n              }, 50);\n            }\n          } else if (messageAdded) {\n            const conv = conversationStorage.get(convId);\n            if (conv) {\n              const msgIndex = conv.messages.findIndex(m => m.id === messageId);\n              if (msgIndex >= 0) {\n                conv.messages[msgIndex] = { ...assistantMessage };\n                conv.updatedAt = Date.now();\n                conversationStorage.save(conv);\n                setConversations(conversationStorage.getAll());\n              }\n            }\n          }\n\n          await new Promise(resolve => setTimeout(resolve, 10));\n        }\n      }\n\n      isDisplaying = false;\n    };\n\n    try {\n      const eventSource = await fetch(streamUrl);\n      if (!eventSource.ok) {\n        throw new Error('Failed to connect to stream');\n      }\n\n      const reader = eventSource.body?.getReader();\n      const decoder = new TextDecoder();\n\n      if (reader) {\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) break;\n\n          const chunk = decoder.decode(value);\n          const lines = chunk.split('\\n');\n\n          for (const line of lines) {\n            if (line.startsWith('data: ')) {\n              const data = line.slice(6);\n              if (data === '[DONE]') continue;\n\n              try {\n                const event = JSON.parse(data);\n                \n                if (event.type === 'content' && event.content) {\n                  if (!firstCharReceived) {\n                    startSkeletonShrink();\n                  }\n                  \n                  const characters = event.content.split('');\n                  displayQueue.push(...characters);\n                  \n                  if (!isDisplaying) {\n                    displayNextChar();\n                  }\n                } else if (event.type === 'thinking' && event.content) {\n                  // Store thinking content for this message\n                  setCurrentThinking(prev => ({\n                    ...prev,\n                    [messageId]: (prev[messageId] || '') + event.content\n                  }));\n                } else if (event.type === 'complete') {\n                  console.log('[Stream] Generation complete');\n                } else if (event.type === 'error') {\n                  console.error('[Stream] Error:', event.error);\n                  throw new Error(event.error);\n                }\n              } catch (e) {\n                if (e instanceof SyntaxError) continue; // Ignore JSON parse errors\n                throw e;\n              }\n            }\n          }\n        }\n\n        // Wait for display queue to finish\n        while (displayQueue.length > 0 || isDisplaying) {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        }\n\n        if (displayedContent.trim() && !messageAdded) {\n          const conv = conversationStorage.get(convId);\n          if (conv) {\n            conv.messages.push(assistantMessage);\n            conversationStorage.save(conv);\n          }\n        }\n      }\n    } finally {\n      setIsLoading(false);\n      setSkeletonShrinking(false);\n      setIsStreaming(false);\n      setStreamingMessageId(null);\n    }\n  };\n\n  const sendMessage = async () => {\n    if (!input.trim() || isLoading) return;\n    \n    let convId = activeConversationId;\n    \n    // Create new conversation if none exists\n    if (!convId) {\n      const newConv = conversationStorage.create();\n      setConversations(prev => [newConv, ...prev]);\n      convId = newConv.id;\n      setActiveConversationId(convId);\n      conversationStorage.setActiveId(convId);\n    }\n\n    const userMessage: Message = {\n      id: `msg_${Date.now()}_user`,\n      role: 'user',\n      content: input.trim(),\n      timestamp: Date.now()\n    };\n\n    // Add user message\n    conversationStorage.addMessage(convId, userMessage);\n    setConversations(conversationStorage.getAll());\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      // Step 1: Trigger generation (returns immediately with messageId)\n      const response = await fetch('/api/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          model: 'Red',\n          messages: [{ role: 'user', content: userMessage.content }],\n          stream: true,\n          conversationId: convId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to start generation');\n      }\n\n      const data = await response.json();\n      const messageId = data.id;\n      const streamUrl = data.stream_url;\n      \n      console.log('[Send] Got messageId:', messageId, 'stream at:', streamUrl);\n\n      // Step 2: Connect to message stream\n      await streamMessage(convId, messageId, streamUrl);\n\n      // Fetch title after message completes\n      const conv = conversationStorage.get(convId);\n      const messageCount = conv?.messages.length || 0;\n      if (messageCount === 2 || messageCount === 6) {\n        setTimeout(() => fetchConversationTitle(convId), 1500);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert('Failed to send message. Please try again.');\n      setIsLoading(false);\n      setSkeletonShrinking(false);\n    }\n  };\n\n  return (\n    <div className=\"flex bg-[#0a0a0a]\" style={{ height: 'calc(var(--vh, 1vh) * 100)' }}>\n      {/* Sidebar */}\n      <Sidebar\n        isOpen={isSidebarOpen}\n        conversations={conversations}\n        activeConversationId={activeConversationId}\n        editingTitleId={editingTitleId}\n        editingTitleValue={editingTitleValue}\n        onClose={() => setIsSidebarOpen(false)}\n        onNewChat={createNewConversation}\n        onSwitchConversation={switchConversation}\n        onDeleteClick={handleDeleteClick}\n        onStartEditingTitle={startEditingTitle}\n        onSaveEditedTitle={saveEditedTitle}\n        onCancelEditingTitle={cancelEditingTitle}\n        onEditingTitleChange={setEditingTitleValue}\n      />\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Header */}\n        <Header\n          title={activeConversation?.title || 'Chat'}\n          onMenuClick={() => setIsSidebarOpen(!isSidebarOpen)}\n          onNewChat={createNewConversation}\n        />\n\n        {/* Messages */}\n        <Messages\n          messages={activeConversation?.messages}\n          thinking={currentThinking}\n          isLoading={isLoading}\n          isStreaming={isStreaming}\n          streamingMessageId={streamingMessageId}\n          skeletonShrinking={skeletonShrinking}\n          messagesEndRef={messagesEndRef}\n          conversationId={activeConversation?.id}\n        />\n\n        {/* Input */}\n        <ChatInput\n          value={input}\n          disabled={isLoading}\n          messagesEndRef={messagesEndRef}\n          onChange={setInput}\n          onSend={sendMessage}\n        />\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      <ConfirmModal\n        isOpen={deleteModalOpen}\n        onClose={() => setDeleteModalOpen(false)}\n        onConfirm={handleDeleteConfirm}\n        title=\"Delete Conversation\"\n        message=\"Are you sure you want to delete this conversation? This action cannot be undone.\"\n        confirmText=\"Delete\"\n        cancelText=\"Cancel\"\n        variant=\"danger\"\n      />\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 18V5', key: 'adv99a' }],\n  ['path', { d: 'M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4', key: '1e3is1' }],\n  ['path', { d: 'M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5', key: '1gqd8o' }],\n  ['path', { d: 'M17.997 5.125a4 4 0 0 1 2.526 5.77', key: 'iwvgf7' }],\n  ['path', { d: 'M18 18a4 4 0 0 0 2-7.464', key: 'efp6ie' }],\n  ['path', { d: 'M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517', key: '1gq6am' }],\n  ['path', { d: 'M6 18a4 4 0 0 1-2-7.464', key: 'k1g0md' }],\n  ['path', { d: 'M6.003 5.125a4 4 0 0 0-2.526 5.77', key: 'q97ue3' }],\n];\n\n/**\n * @component @name Brain\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMThWNSIgLz4KICA8cGF0aCBkPSJNMTUgMTNhNC4xNyA0LjE3IDAgMCAxLTMtNCA0LjE3IDQuMTcgMCAwIDEtMyA0IiAvPgogIDxwYXRoIGQ9Ik0xNy41OTggNi41QTMgMyAwIDEgMCAxMiA1YTMgMyAwIDEgMC01LjU5OCAxLjUiIC8+CiAgPHBhdGggZD0iTTE3Ljk5NyA1LjEyNWE0IDQgMCAwIDEgMi41MjYgNS43NyIgLz4KICA8cGF0aCBkPSJNMTggMThhNCA0IDAgMCAwIDItNy40NjQiIC8+CiAgPHBhdGggZD0iTTE5Ljk2NyAxNy40ODNBNCA0IDAgMSAxIDEyIDE4YTQgNCAwIDEgMS03Ljk2Ny0uNTE3IiAvPgogIDxwYXRoIGQ9Ik02IDE4YTQgNCAwIDAgMS0yLTcuNDY0IiAvPgogIDxwYXRoIGQ9Ik02LjAwMyA1LjEyNWE0IDQgMCAwIDAtMi41MjYgNS43NyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/brain\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Brain = createLucideIcon('brain', __iconNode);\n\nexport default Brain;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n","import { Send } from 'lucide-react';\n\ninterface ChatInputProps {\n  value: string;\n  disabled: boolean;\n  messagesEndRef: React.RefObject<HTMLDivElement | null>;\n  onChange: (value: string) => void;\n  onSend: () => void;\n}\n\nexport function ChatInput({ value, disabled, messagesEndRef, onChange, onSend }: ChatInputProps) {\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      onSend();\n    }\n  };\n\n  return (\n    <div className=\"sticky bottom-0 z-40 bg-[#0f0f0f] border-t border-[#2a2a2a] py-3 px-4\">\n      <div className=\"max-w-4xl mx-auto flex gap-3 items-center\">\n        <div className=\"flex-1 relative inline-block\">\n          <textarea\n            value={value}\n            onChange={(e) => onChange(e.target.value)}\n            onKeyDown={handleKeyDown}\n            onFocus={() => {\n              // On mobile, keyboard may resize viewport; scroll after a short delay\n              setTimeout(() => {\n                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n              }, 300);\n            }}\n            placeholder=\"Type your message...\"\n            className=\"w-full resize-none bg-[#1a1a1a] border border-[#2a2a2a] text-gray-100 placeholder-gray-500 rounded-xl px-4 pr-16 py-3 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all leading-tight block\"\n            rows={1}\n            disabled={disabled}\n          />\n          {/* Helper hint visible on medium+ screens (absolute so it doesn't affect layout). Hidden when input has content */}\n          <div className={`hidden md:block pointer-events-none absolute right-3 bottom-3 text-xs text-gray-500 px-2 py-0.5 rounded-md ${value ? 'opacity-0' : 'opacity-100'} transition-opacity bg-[#0f0f0f]`}>\n            (Shift+Enter for new line)\n          </div>\n        </div>\n        <button\n          onClick={onSend}\n          disabled={!value.trim() || disabled}\n          className=\"px-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed transition-all flex items-center gap-2 font-medium shadow-lg\"\n        >\n          <Send size={20} />\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactJsxRuntime","ReactDOM","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml","HandleISRError","workAsyncStorage","window","undefined","error","store","getStore","isRevalidate","isStaticGeneration","console","styles","fontFamily","height","textAlign","display","flexDirection","alignItems","justifyContent","text","fontSize","fontWeight","lineHeight","margin","DefaultGlobalError","digest","html","id","head","body","div","style","h2","location","hostname","p"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,11,12]}